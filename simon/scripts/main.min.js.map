{"version":3,"sources":["main.min.js","main.js"],"names":["getRandomIntInclusive","max","min","Math","floor","random","isLocalhost","Boolean","window","location","hostname","match","navigator","protocol","serviceWorker","register","then","registration","onupdatefound","controller","installingWorker","installing","onstatechange","state","Error","e","console","error","app","strictMode","document","getElementById","checked","sequence","buttons","gameOn","addEventListener","target","log","resetGame","startGame","sqrCollection","getElementsByClassName","i","length","item","id","play","el","color","substr","className","setTimeout","replace","createSequence","playSequence","n","push","innerHTML","forEach","element","index","onload"],"mappings":"AAAA,cCmBA,WAwJE,QAASA,GAAsBC,EAAKC,GAGlC,MAFAA,GAAMA,GAAO,EACbD,EAAME,KAAKC,MAAMH,GACVE,KAAKC,MAAMD,KAAKE,UAAYJ,EAAMC,EAAM,IAAMA,EApJvD,GAAII,GAAcC,QAAqC,cAA7BC,OAAOC,SAASC,UAEX,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,0DAIA,kBAAmBC,aACS,WAA7BJ,OAAOC,SAASI,UAAyBP,IACxCM,UAAUE,cAAcC,SAAS,qBAC9BC,KAAK,SAASC,GAEbA,EAAaC,cAAgB,WAMvBN,UAAUE,cAAcK,aAAY,WAItC,GAAIC,GAAmBH,EAAaI,UAEpCD,GAAiBE,cAAgB,WAC/B,OAAQF,EAAiBG,OACvB,IAAK,YAOH,KAEF,KAAK,YACH,KAAM,IAAIC,OAAM,2DA3B9BZ,SAoCW,SAASa,GAChBC,QAAQC,MAAM,4CAA6CF,IAMnE,IAAIG,GAAMpB,OAAOoB,OAGjBA,GAAIC,WAAaC,SAASC,eAAe,WAAWC,QAEpDJ,EAAIK,YAEJL,EAAIM,SACF,eACA,aACA,gBACA,eAEFN,EAAIO,QAAS,EAEbL,SAASC,eAAe,WAAWK,iBAAiB,SAAU,SAASX,GACrEG,EAAIC,WAAaJ,EAAEY,OAAOL,QAC1BN,QAAQY,IAAIV,EAAIC,cAGlBC,SAASC,eAAe,gBAAgBK,iBAAiB,QAAS,WAChER,EAAIW,cAGNT,SAASC,eAAe,gBAAgBK,iBAAiB,QAAS,WAChER,EAAIY,aAIN,KAAK,GADDC,GAAgBX,SAASY,uBAAuB,WAC3CC,EAAI,EAAGA,EAAIF,EAAcG,OAAQD,IACxCjB,QAAQY,IAAI,4BAA8BG,EAAcI,KAAKF,GAAGG,IAEhEL,EAAcI,KAAKF,GAAGP,iBAAiB,QAAS,SAASX,GACnDG,EAAIO,QAAQP,EAAImB,KAAKtB,EAAEY,OAAOS,KAItClB,GAAImB,KAAO,SAASD,GAElB,GAAIE,GAAKlB,SAASC,eAAee,GAE7BG,EAAQH,EAAGI,OAAO,EACtBxB,SAAQY,IAAIQ,EAAIG,GAGhBD,EAAGG,WAAa,eAGhBrB,SAASC,eAAe,SAAWkB,GAAOF,OAG1CvC,OAAO4C,WAAW,WAChBJ,EAAGG,UAAYH,EAAGG,UAAUE,QAAQ,eAAgB,KACnD,MAGLzB,EAAIW,UAAY,WACdb,QAAQY,IAAI,SACZV,EAAIO,QAAS,EACbP,EAAIK,aAGNL,EAAIY,UAAY,WACdd,QAAQY,IAAI,SACZV,EAAIO,QAAS,EACbP,EAAI0B,iBACJ1B,EAAI2B,eACJ7B,QAAQY,IAAIV,EAAIK,WAGlBL,EAAI0B,eAAiB,WACnB,GAAIE,GAAIxD,EAAsB,EAC9B4B,GAAIK,SAASwB,KAAKD,GAClB1B,SAASC,eAAe,gBAAgB2B,UACtC,UAAY9B,EAAIK,SAASW,QAK7BhB,EAAI2B,aAAe,WACjB3B,EAAIK,SAAS0B,QAAS,SAASC,EAASC,GACtCjC,EAAImB,KAAKnB,EAAIM,QAAQ0B,OAgBzBpD,OAAOsD,OAAS,WACdpC,QAAQY,IAAI","file":"main.min.js","sourcesContent":["'use strict'; /*\n               *\n               *  Web Starter Kit\n               *  Copyright 2015 Google Inc. All rights reserved.\n               *\n               *  Licensed under the Apache License, Version 2.0 (the \"License\");\n               *  you may not use this file except in compliance with the License.\n               *  You may obtain a copy of the License at\n               *\n               *    https://www.apache.org/licenses/LICENSE-2.0\n               *\n               *  Unless required by applicable law or agreed to in writing, software\n               *  distributed under the License is distributed on an \"AS IS\" BASIS,\n               *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n               *  See the License for the specific language governing permissions and\n               *  limitations under the License\n               *\n               */\n/* eslint-env browser */\n(function () {\n  'use strict';\n\n  // Check to make sure service workers are supported in the current browser,\n  // and that the current page is accessed from a secure origin. Using a\n  // service worker from an insecure origin will trigger JS console errors. See\n  // http://www.chromium.org/Home/chromium-security/prefer-secure-origins-for-powerful-new-features\n  var isLocalhost = Boolean(window.location.hostname === 'localhost' ||\n  // [::1] is the IPv6 localhost address.\n  window.location.hostname === '[::1]' ||\n  // 127.0.0.1/8 is considered localhost for IPv4.\n  window.location.hostname.match(\n  /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));\n\n\n\n  if ('serviceWorker' in navigator && (\n  window.location.protocol === 'https:' || isLocalhost)) {\n    navigator.serviceWorker.register('service-worker.js').\n    then(function (registration) {\n      // updatefound is fired if service-worker.js changes.\n      registration.onupdatefound = function () {\n        // updatefound is also fired the very first time the SW is\n        // installed,\n        // and there's no need to prompt for a reload at that point.\n        // So check here to see if the page is already controlled,\n        // i.e. whether there's an existing service worker.\n        if (navigator.serviceWorker.controller) {(function () {\n            // The updatefound event implies that registration.installing is\n            // set:\n            // https://slightlyoff.github.io/ServiceWorker/spec/service_worker/index.html#service-worker-container-updatefound-event\n            var installingWorker = registration.installing;\n\n            installingWorker.onstatechange = function () {\n              switch (installingWorker.state) {\n                case 'installed':\n                  // At this point, the old content will have been purged and\n                  // the\n                  // fresh content will have been added to the cache.\n                  // It's the perfect time to display a \"New content is\n                  // available; please refresh.\" message in the page's\n                  // interface.\n                  break;\n\n                case 'redundant':\n                  throw new Error('The installing ' +\n                  'service worker became redundant.');\n\n                default:\n                // Ignore\n              }\n            };})();\n        }\n      };\n    }).catch(function (e) {\n      console.error('Error during service worker registration:', e);\n    });\n  }\n\n  // Your custom JavaScript goes here\n\n  var app = window.app || {};\n\n  // hold strictMode boolean (change on event switch1.change)\n  app.strictMode = document.getElementById('switch1').checked;\n  // hold sequence of values\n  app.sequence = [];\n  // index list of buttons 0-3\n  app.buttons = [\n  'button-green',\n  'button-red',\n  'button-yellow',\n  'button-blue'];\n\n  app.gameOn = false;\n\n  document.getElementById('switch1').addEventListener('change', function (e) {\n    app.strictMode = e.target.checked;\n    console.log(app.strictMode);\n  });\n\n  document.getElementById('reset-button').addEventListener('click', function () {\n    app.resetGame();\n  });\n\n  document.getElementById('start-button').addEventListener('click', function () {\n    app.startGame();\n  });\n\n  var sqrCollection = document.getElementsByClassName('squares');\n  for (var i = 0; i < sqrCollection.length; i++) {\n    console.log('event handler added for: ' + sqrCollection.item(i).id);\n\n    sqrCollection.item(i).addEventListener('click', function (e) {\n      if (app.gameOn) app.play(e.target.id);\n    });\n  }\n\n  app.play = function (id) {\n    // get square by id\n    var el = document.getElementById(id);\n    // get color of square from preset id name\n    var color = id.substr(7);\n    console.log(id, color);\n\n    // add css class to lighten color (white background + opacity)\n    el.className += ' shift-color';\n\n    // play sound preset id contains specified format\n    document.getElementById('sound-' + color).play();\n\n    // create a timer to return color to normal 300ms is enough to notice\n    window.setTimeout(function () {\n      el.className = el.className.replace(' shift-color', '');\n    }, 500);\n  };\n\n  app.resetGame = function () {\n    console.log('reset');\n    app.gameOn = false;\n    app.sequence = [];\n  };\n\n  app.startGame = function () {\n    console.log('start');\n    app.gameOn = true;\n    app.createSequence();\n    app.playSequence();\n    console.log(app.sequence);\n  };\n\n  app.createSequence = function () {\n    var n = getRandomIntInclusive(3);\n    app.sequence.push(n);\n    document.getElementById('step-counter').innerHTML =\n    'Steps: ' + app.sequence.length;\n  };\n\n  /* TODO:\n      * this plays the sequences too fast - why is not the setTimeout working? */\n  app.playSequence = function () {\n    app.sequence.forEach(function (element, index) {\n      app.play(app.buttons[element]);\n    });\n  };\n\n  /**\n     *  Using Math.round() will give you a non-uniform distribution!\n     *  @param {integer} max\n     *  @param {integer} min\n     *  @return {number} - Returns a random integer between 0 and max (inclusive)\n     */\n  function getRandomIntInclusive(max, min) {\n    min = min || 0; // Math.ceil(min);\n    max = Math.floor(max);\n    return Math.floor(Math.random() * (max - min + 1)) + min;\n  }\n\n  window.onload = function () {\n    console.log('loaded javascript');\n  };\n\n  // this allows me to set values from javascript\n})();\n// vim: set foldmethod=syntax :\n//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiaXNMb2NhbGhvc3QiLCJCb29sZWFuIiwid2luZG93IiwibG9jYXRpb24iLCJob3N0bmFtZSIsIm1hdGNoIiwibmF2aWdhdG9yIiwicHJvdG9jb2wiLCJzZXJ2aWNlV29ya2VyIiwicmVnaXN0ZXIiLCJ0aGVuIiwicmVnaXN0cmF0aW9uIiwib251cGRhdGVmb3VuZCIsImNvbnRyb2xsZXIiLCJpbnN0YWxsaW5nV29ya2VyIiwiaW5zdGFsbGluZyIsIm9uc3RhdGVjaGFuZ2UiLCJzdGF0ZSIsIkVycm9yIiwiY2F0Y2giLCJlIiwiY29uc29sZSIsImVycm9yIiwiYXBwIiwic3RyaWN0TW9kZSIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJjaGVja2VkIiwic2VxdWVuY2UiLCJidXR0b25zIiwiZ2FtZU9uIiwiYWRkRXZlbnRMaXN0ZW5lciIsInRhcmdldCIsImxvZyIsInJlc2V0R2FtZSIsInN0YXJ0R2FtZSIsInNxckNvbGxlY3Rpb24iLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwiaSIsImxlbmd0aCIsIml0ZW0iLCJpZCIsInBsYXkiLCJlbCIsImNvbG9yIiwic3Vic3RyIiwiY2xhc3NOYW1lIiwic2V0VGltZW91dCIsInJlcGxhY2UiLCJjcmVhdGVTZXF1ZW5jZSIsInBsYXlTZXF1ZW5jZSIsIm4iLCJnZXRSYW5kb21JbnRJbmNsdXNpdmUiLCJwdXNoIiwiaW5uZXJIVE1MIiwiZm9yRWFjaCIsImVsZW1lbnQiLCJpbmRleCIsIm1heCIsIm1pbiIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsIm9ubG9hZCJdLCJtYXBwaW5ncyI6ImNBQUE7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQWtCQTtBQUNBLENBQUMsWUFBVztBQUNWOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSUEsY0FBY0MsUUFBUUMsT0FBT0MsUUFBUCxDQUFnQkMsUUFBaEIsS0FBNkIsV0FBN0I7QUFDeEI7QUFDQUYsU0FBT0MsUUFBUCxDQUFnQkMs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LEtBQWxCLEVBQXlCO0FBQzdDbEMsVUFBSW1CLElBQUosQ0FBU25CLElBQUlNLE9BQUosQ0FBWTJCLE9BQVosQ0FBVDtBQUNELEtBRkQ7QUFHRCxHQUpEOztBQU1BOzs7Ozs7QUFNQSxXQUFTSixxQkFBVCxDQUErQk0sR0FBL0IsRUFBb0NDLEdBQXBDLEVBQXlDO0FBQ3ZDQSxVQUFNQSxPQUFPLENBQWIsQ0FEdUMsQ0FDdkI7QUFDaEJELFVBQU1FLEtBQUtDLEtBQUwsQ0FBV0gsR0FBWCxDQUFOO0FBQ0EsV0FBT0UsS0FBS0MsS0FBTCxDQUFXRCxLQUFLRSxNQUFMLE1BQWlCSixNQUFNQyxHQUFOLEdBQVksQ0FBN0IsQ0FBWCxJQUE4Q0EsR0FBckQ7QUFDRDs7QUFFRHpELFNBQU82RCxNQUFQLEdBQWdCLFlBQVc7QUFDekIxQyxZQUFRWSxHQUFSLENBQVksbUJBQVo7QUFDRCxHQUZEOztBQUlBO0FBQ0QsQ0FuS0Q7QUFvS0EiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKlxuICogIFdlYiBTdGFydGVyIEtpdFxuICogIENvcHlyaWdodCAyMDE1IEdvb2dsZSBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiAgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiAgVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqICBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiAgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2VcbiAqXG4gKi9cbi8qIGVzbGludC1lbnYgYnJvd3NlciAqL1xuKGZ1bmN0aW9uKCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgLy8gQ2hlY2sgdG8gbWFrZSBzdXJlIHNlcnZpY2Ugd29ya2VycyBhcmUgc3VwcG9ydGVkIGluIHRoZSBjdXJyZW50IGJyb3dzZXIsXG4gIC8vIGFuZCB0aGF0IHRoZSBjdXJyZW50IHBhZ2UgaXMgYWNjZXNzZWQgZnJvbSBhIHNlY3VyZSBvcmlnaW4uIFVzaW5nIGFcbiAgLy8gc2VydmljZSB3b3JrZXIgZnJvbSBhbiBpbnNlY3VyZSBvcmlnaW4gd2lsbCB0cmlnZ2VyIEpTIGNvbnNvbGUgZXJyb3JzLiBTZWVcbiAgLy8gaHR0cDovL3d3dy5jaHJvbWl1bS5vcmcvSG9tZS9jaHJvbWl1bS1zZWN1cml0eS9wcmVmZXItc2VjdXJlLW9yaWdpbnMtZm9yLXBvd2VyZnVsLW5ldy1mZWF0dXJlc1xuICBsZXQgaXNMb2NhbGhvc3QgPSBCb29sZWFuKHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSA9PT0gJ2xvY2FsaG9zdCcgfHxcbiAgICAvLyBbOjoxXSBpcyB0aGUgSVB2NiBsb2NhbGhvc3QgYWRkcmVzcy5cbiAgICB3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUgPT09ICdbOjoxXScgfHxcbiAgICAvLyAxMjcuMC4wLjEvOCBpcyBjb25zaWRlcmVkIGxvY2FsaG9zdCBmb3IgSVB2NC5cbiAgICB3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUubWF0Y2goXG4gICAgICAvXjEyNyg/OlxcLig/OjI1WzAtNV18MlswLTRdWzAtOV18WzAxXT9bMC05XVswLTldPykpezN9JC9cbiAgICApXG4pO1xuXG4gIGlmICgnc2VydmljZVdvcmtlcicgaW4gbmF2aWdhdG9yICYmXG4gICAgKHdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbCA9PT0gJ2h0dHBzOicgfHwgaXNMb2NhbGhvc3QpKSB7XG4gICAgICBuYXZpZ2F0b3Iuc2VydmljZVdvcmtlci5yZWdpc3Rlcignc2VydmljZS13b3JrZXIuanMnKVxuICAgICAgICAudGhlbihmdW5jdGlvbihyZWdpc3RyYXRpb24pIHtcbiAgICAgICAgICAvLyB1cGRhdGVmb3VuZCBpcyBmaXJlZCBpZiBzZXJ2aWNlLXdvcmtlci5qcyBjaGFuZ2VzLlxuICAgICAgICAgIHJlZ2lzdHJhdGlvbi5vbnVwZGF0ZWZvdW5kID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAvLyB1cGRhdGVmb3VuZCBpcyBhbHNvIGZpcmVkIHRoZSB2ZXJ5IGZpcnN0IHRpbWUgdGhlIFNXIGlzXG4gICAgICAgICAgICAvLyBpbnN0YWxsZWQsXG4gICAgICAgICAgICAvLyBhbmQgdGhlcmUncyBubyBuZWVkIHRvIHByb21wdCBmb3IgYSByZWxvYWQgYXQgdGhhdCBwb2ludC5cbiAgICAgICAgICAgIC8vIFNvIGNoZWNrIGhlcmUgdG8gc2VlIGlmIHRoZSBwYWdlIGlzIGFscmVhZHkgY29udHJvbGxlZCxcbiAgICAgICAgICAgIC8vIGkuZS4gd2hldGhlciB0aGVyZSdzIGFuIGV4aXN0aW5nIHNlcnZpY2Ugd29ya2VyLlxuICAgICAgICAgICAgaWYgKG5hdmlnYXRvci5zZXJ2aWNlV29ya2VyLmNvbnRyb2xsZXIpIHtcbiAgICAgICAgICAgICAgLy8gVGhlIHVwZGF0ZWZvdW5kIGV2ZW50IGltcGxpZXMgdGhhdCByZWdpc3RyYXRpb24uaW5zdGFsbGluZyBpc1xuICAgICAgICAgICAgICAvLyBzZXQ6XG4gICAgICAgICAgICAgIC8vIGh0dHBzOi8vc2xpZ2h0bHlvZmYuZ2l0aHViLmlvL1NlcnZpY2VXb3JrZXIvc3BlYy9zZXJ2aWNlX3dvcmtlci9pbmRleC5odG1sI3NlcnZpY2Utd29ya2VyLWNvbnRhaW5lci11cGRhdGVmb3VuZC1ldmVudFxuICAgICAgICAgICAgICBsZXQgaW5zdGFsbGluZ1dvcmtlciA9IHJlZ2lzdHJhdGlvbi5pbnN0YWxsaW5nO1xuXG4gICAgICAgICAgICAgIGluc3RhbGxpbmdXb3JrZXIub25zdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoaW5zdGFsbGluZ1dvcmtlci5zdGF0ZSkge1xuICAgICAgICAgICAgICAgICAgY2FzZSAnaW5zdGFsbGVkJzpcbiAgICAgICAgICAgICAgICAgICAgLy8gQXQgdGhpcyBwb2ludCwgdGhlIG9sZCBjb250ZW50IHdpbGwgaGF2ZSBiZWVuIHB1cmdlZCBhbmRcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhlXG4gICAgICAgICAgICAgICAgICAgIC8vIGZyZXNoIGNvbnRlbnQgd2lsbCBoYXZlIGJlZW4gYWRkZWQgdG8gdGhlIGNhY2hlLlxuICAgICAgICAgICAgICAgICAgICAvLyBJdCdzIHRoZSBwZXJmZWN0IHRpbWUgdG8gZGlzcGxheSBhIFwiTmV3IGNvbnRlbnQgaXNcbiAgICAgICAgICAgICAgICAgICAgLy8gYXZhaWxhYmxlOyBwbGVhc2UgcmVmcmVzaC5cIiBtZXNzYWdlIGluIHRoZSBwYWdlJ3NcbiAgICAgICAgICAgICAgICAgICAgLy8gaW50ZXJmYWNlLlxuICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgY2FzZSAncmVkdW5kYW50JzpcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGUgaW5zdGFsbGluZyAnICtcbiAgICAgICAgICAgICAgICAgICAgICAnc2VydmljZSB3b3JrZXIgYmVjYW1lIHJlZHVuZGFudC4nKTtcblxuICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgLy8gSWdub3JlXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG4gICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBkdXJpbmcgc2VydmljZSB3b3JrZXIgcmVnaXN0cmF0aW9uOicsIGUpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgLy8gWW91ciBjdXN0b20gSmF2YVNjcmlwdCBnb2VzIGhlcmVcblxuICBsZXQgYXBwID0gd2luZG93LmFwcCB8fCB7fTtcblxuICAvLyBob2xkIHN0cmljdE1vZGUgYm9vbGVhbiAoY2hhbmdlIG9uIGV2ZW50IHN3aXRjaDEuY2hhbmdlKVxuICBhcHAuc3RyaWN0TW9kZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzd2l0Y2gxJykuY2hlY2tlZDtcbiAgLy8gaG9sZCBzZXF1ZW5jZSBvZiB2YWx1ZXNcbiAgYXBwLnNlcXVlbmNlID0gW107XG4gIC8vIGluZGV4IGxpc3Qgb2YgYnV0dG9ucyAwLTNcbiAgYXBwLmJ1dHRvbnMgPSBbXG4gICAgJ2J1dHRvbi1ncmVlbicsXG4gICAgJ2J1dHRvbi1yZWQnLFxuICAgICdidXR0b24teWVsbG93JyxcbiAgICAnYnV0dG9uLWJsdWUnLFxuICBdO1xuICBhcHAuZ2FtZU9uID0gZmFsc2U7XG5cbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N3aXRjaDEnKS5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBmdW5jdGlvbihlKSB7XG4gICAgYXBwLnN0cmljdE1vZGUgPSBlLnRhcmdldC5jaGVja2VkO1xuICAgIGNvbnNvbGUubG9nKGFwcC5zdHJpY3RNb2RlKTtcbiAgfSk7XG5cbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jlc2V0LWJ1dHRvbicpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgYXBwLnJlc2V0R2FtZSgpO1xuICB9KTtcblxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3RhcnQtYnV0dG9uJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICBhcHAuc3RhcnRHYW1lKCk7XG4gIH0pO1xuXG4gIGxldCBzcXJDb2xsZWN0aW9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc3F1YXJlcycpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHNxckNvbGxlY3Rpb24ubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zb2xlLmxvZygnZXZlbnQgaGFuZGxlciBhZGRlZCBmb3I6ICcgKyBzcXJDb2xsZWN0aW9uLml0ZW0oaSkuaWQpO1xuXG4gICAgc3FyQ29sbGVjdGlvbi5pdGVtKGkpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuICAgICAgaWYgKGFwcC5nYW1lT24pIGFwcC5wbGF5KGUudGFyZ2V0LmlkKTtcbiAgICB9KTtcbiAgfVxuXG4gIGFwcC5wbGF5ID0gZnVuY3Rpb24oaWQpIHtcbiAgICAvLyBnZXQgc3F1YXJlIGJ5IGlkXG4gICAgbGV0IGVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpO1xuICAgIC8vIGdldCBjb2xvciBvZiBzcXVhcmUgZnJvbSBwcmVzZXQgaWQgbmFtZVxuICAgIGxldCBjb2xvciA9IGlkLnN1YnN0cig3KTtcbiAgICBjb25zb2xlLmxvZyhpZCwgY29sb3IpO1xuXG4gICAgLy8gYWRkIGNzcyBjbGFzcyB0byBsaWdodGVuIGNvbG9yICh3aGl0ZSBiYWNrZ3JvdW5kICsgb3BhY2l0eSlcbiAgICBlbC5jbGFzc05hbWUgKz0gJyBzaGlmdC1jb2xvcic7XG5cbiAgICAvLyBwbGF5IHNvdW5kIHByZXNldCBpZCBjb250YWlucyBzcGVjaWZpZWQgZm9ybWF0XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NvdW5kLScgKyBjb2xvcikucGxheSgpO1xuXG4gICAgLy8gY3JlYXRlIGEgdGltZXIgdG8gcmV0dXJuIGNvbG9yIHRvIG5vcm1hbCAzMDBtcyBpcyBlbm91Z2ggdG8gbm90aWNlXG4gICAgd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICBlbC5jbGFzc05hbWUgPSBlbC5jbGFzc05hbWUucmVwbGFjZSgnIHNoaWZ0LWNvbG9yJywgJycpO1xuICAgIH0sIDUwMCk7XG4gIH07XG5cbiAgYXBwLnJlc2V0R2FtZSA9IGZ1bmN0aW9uKCkge1xuICAgIGNvbnNvbGUubG9nKCdyZXNldCcpO1xuICAgIGFwcC5nYW1lT24gPSBmYWxzZTtcbiAgICBhcHAuc2VxdWVuY2UgPSBbXTtcbiAgfTtcblxuICBhcHAuc3RhcnRHYW1lID0gZnVuY3Rpb24oKSB7XG4gICAgY29uc29sZS5sb2coJ3N0YXJ0Jyk7XG4gICAgYXBwLmdhbWVPbiA9IHRydWU7XG4gICAgYXBwLmNyZWF0ZVNlcXVlbmNlKCk7XG4gICAgYXBwLnBsYXlTZXF1ZW5jZSgpO1xuICAgIGNvbnNvbGUubG9nKGFwcC5zZXF1ZW5jZSk7XG4gIH07XG5cbiAgYXBwLmNyZWF0ZVNlcXVlbmNlID0gZnVuY3Rpb24oKSB7XG4gICAgbGV0IG4gPSBnZXRSYW5kb21JbnRJbmNsdXNpdmUoMyk7XG4gICAgYXBwLnNlcXVlbmNlLnB1c2gobik7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N0ZXAtY291bnRlcicpLmlubmVySFRNTCA9XG4gICAgICAnU3RlcHM6ICcgKyBhcHAuc2VxdWVuY2UubGVuZ3RoO1xuICB9O1xuXG4gIC8qIFRPRE86XG4gICAqIHRoaXMgcGxheXMgdGhlIHNlcXVlbmNlcyB0b28gZmFzdCAtIHdoeSBpcyBub3QgdGhlIHNldFRpbWVvdXQgd29ya2luZz8gKi9cbiAgYXBwLnBsYXlTZXF1ZW5jZSA9IGZ1bmN0aW9uKCkge1xuICAgIGFwcC5zZXF1ZW5jZS5mb3JFYWNoKCBmdW5jdGlvbihlbGVtZW50LCBpbmRleCkge1xuICAgICAgYXBwLnBsYXkoYXBwLmJ1dHRvbnNbZWxlbWVudF0pO1xuICAgIH0pO1xuICB9O1xuXG4gIC8qKlxuICAqICBVc2luZyBNYXRoLnJvdW5kKCkgd2lsbCBnaXZlIHlvdSBhIG5vbi11bmlmb3JtIGRpc3RyaWJ1dGlvbiFcbiAgKiAgQHBhcmFtIHtpbnRlZ2VyfSBtYXhcbiAgKiAgQHBhcmFtIHtpbnRlZ2VyfSBtaW5cbiAgKiAgQHJldHVybiB7bnVtYmVyfSAtIFJldHVybnMgYSByYW5kb20gaW50ZWdlciBiZXR3ZWVuIDAgYW5kIG1heCAoaW5jbHVzaXZlKVxuICAqL1xuICBmdW5jdGlvbiBnZXRSYW5kb21JbnRJbmNsdXNpdmUobWF4LCBtaW4pIHtcbiAgICBtaW4gPSBtaW4gfHwgMDsgLy8gTWF0aC5jZWlsKG1pbik7XG4gICAgbWF4ID0gTWF0aC5mbG9vcihtYXgpO1xuICAgIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluICsgMSkpICsgbWluO1xuICB9XG5cbiAgd2luZG93Lm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgIGNvbnNvbGUubG9nKCdsb2FkZWQgamF2YXNjcmlwdCcpO1xuICB9O1xuXG4gIC8vIHRoaXMgYWxsb3dzIG1lIHRvIHNldCB2YWx1ZXMgZnJvbSBqYXZhc2NyaXB0XG59KSgpO1xuLy8gdmltOiBzZXQgZm9sZG1ldGhvZD1zeW50YXggOlxuIl19\n","/*\n *\n *  Web Starter Kit\n *  Copyright 2015 Google Inc. All rights reserved.\n *\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *    https://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License\n *\n */\n/* eslint-env browser */\n(function() {\n  'use strict';\n\n  // Check to make sure service workers are supported in the current browser,\n  // and that the current page is accessed from a secure origin. Using a\n  // service worker from an insecure origin will trigger JS console errors. See\n  // http://www.chromium.org/Home/chromium-security/prefer-secure-origins-for-powerful-new-features\n  let isLocalhost = Boolean(window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\n  if ('serviceWorker' in navigator &&\n    (window.location.protocol === 'https:' || isLocalhost)) {\n      navigator.serviceWorker.register('service-worker.js')\n        .then(function(registration) {\n          // updatefound is fired if service-worker.js changes.\n          registration.onupdatefound = function() {\n            // updatefound is also fired the very first time the SW is\n            // installed,\n            // and there's no need to prompt for a reload at that point.\n            // So check here to see if the page is already controlled,\n            // i.e. whether there's an existing service worker.\n            if (navigator.serviceWorker.controller) {\n              // The updatefound event implies that registration.installing is\n              // set:\n              // https://slightlyoff.github.io/ServiceWorker/spec/service_worker/index.html#service-worker-container-updatefound-event\n              let installingWorker = registration.installing;\n\n              installingWorker.onstatechange = function() {\n                switch (installingWorker.state) {\n                  case 'installed':\n                    // At this point, the old content will have been purged and\n                    // the\n                    // fresh content will have been added to the cache.\n                    // It's the perfect time to display a \"New content is\n                    // available; please refresh.\" message in the page's\n                    // interface.\n                    break;\n\n                  case 'redundant':\n                    throw new Error('The installing ' +\n                      'service worker became redundant.');\n\n                  default:\n                    // Ignore\n                }\n              };\n            }\n          };\n        }).catch(function(e) {\n          console.error('Error during service worker registration:', e);\n        });\n    }\n\n  // Your custom JavaScript goes here\n\n  let app = window.app || {};\n\n  // hold strictMode boolean (change on event switch1.change)\n  app.strictMode = document.getElementById('switch1').checked;\n  // hold sequence of values\n  app.sequence = [];\n  // index list of buttons 0-3\n  app.buttons = [\n    'button-green',\n    'button-red',\n    'button-yellow',\n    'button-blue',\n  ];\n  app.gameOn = false;\n\n  document.getElementById('switch1').addEventListener('change', function(e) {\n    app.strictMode = e.target.checked;\n    console.log(app.strictMode);\n  });\n\n  document.getElementById('reset-button').addEventListener('click', function() {\n    app.resetGame();\n  });\n\n  document.getElementById('start-button').addEventListener('click', function() {\n    app.startGame();\n  });\n\n  let sqrCollection = document.getElementsByClassName('squares');\n  for (let i = 0; i < sqrCollection.length; i++) {\n    console.log('event handler added for: ' + sqrCollection.item(i).id);\n\n    sqrCollection.item(i).addEventListener('click', function(e) {\n      if (app.gameOn) app.play(e.target.id);\n    });\n  }\n\n  app.play = function(id) {\n    // get square by id\n    let el = document.getElementById(id);\n    // get color of square from preset id name\n    let color = id.substr(7);\n    console.log(id, color);\n\n    // add css class to lighten color (white background + opacity)\n    el.className += ' shift-color';\n\n    // play sound preset id contains specified format\n    document.getElementById('sound-' + color).play();\n\n    // create a timer to return color to normal 300ms is enough to notice\n    window.setTimeout(function() {\n      el.className = el.className.replace(' shift-color', '');\n    }, 500);\n  };\n\n  app.resetGame = function() {\n    console.log('reset');\n    app.gameOn = false;\n    app.sequence = [];\n  };\n\n  app.startGame = function() {\n    console.log('start');\n    app.gameOn = true;\n    app.createSequence();\n    app.playSequence();\n    console.log(app.sequence);\n  };\n\n  app.createSequence = function() {\n    let n = getRandomIntInclusive(3);\n    app.sequence.push(n);\n    document.getElementById('step-counter').innerHTML =\n      'Steps: ' + app.sequence.length;\n  };\n\n  /* TODO:\n   * this plays the sequences too fast - why is not the setTimeout working? */\n  app.playSequence = function() {\n    app.sequence.forEach( function(element, index) {\n      app.play(app.buttons[element]);\n    });\n  };\n\n  /**\n  *  Using Math.round() will give you a non-uniform distribution!\n  *  @param {integer} max\n  *  @param {integer} min\n  *  @return {number} - Returns a random integer between 0 and max (inclusive)\n  */\n  function getRandomIntInclusive(max, min) {\n    min = min || 0; // Math.ceil(min);\n    max = Math.floor(max);\n    return Math.floor(Math.random() * (max - min + 1)) + min;\n  }\n\n  window.onload = function() {\n    console.log('loaded javascript');\n  };\n\n  // this allows me to set values from javascript\n})();\n// vim: set foldmethod=syntax :\n"]}